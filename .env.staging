# Staging Environment Configuration
# Copy this file and update with your staging values

# ===========================================
# BACKEND (GCP) ENVIRONMENT VARIABLES
# ===========================================

# Database Configuration (Cloud SQL - Staging)
DATABASE_URL=postgresql://supabase_admin:YOUR_STAGING_PASSWORD@STAGING_POSTGRES_IP:5432/supabase?sslmode=require
DB_TYPE=postgres

# Supabase Configuration (Staging)
SUPABASE_URL=https://staging-api.advotecate.com
SUPABASE_SERVICE_KEY=YOUR_STAGING_SUPABASE_SERVICE_KEY
SUPABASE_ANON_KEY=YOUR_STAGING_SUPABASE_ANON_KEY

# FluidPay Configuration (Sandbox)
FLUIDPAY_API_KEY=test_pk_YOUR_TEST_KEY
FLUIDPAY_API_SECRET=test_sk_YOUR_TEST_SECRET
FLUIDPAY_WEBHOOK_SECRET=whsec_YOUR_TEST_WEBHOOK_SECRET
FLUIDPAY_SANDBOX_URL=https://sandbox-api.fluidpay.com/v1

# JWT Configuration
JWT_SECRET=YOUR_STAGING_JWT_SECRET_64_CHARS_MINIMUM
JWT_EXPIRY=24h

# Server Configuration
NODE_ENV=staging
PORT=3000
HOST=0.0.0.0

# CORS Configuration
CORS_ORIGIN=https://staging-app.advotecate.com,https://staging.advotecate.com
CORS_CREDENTIALS=true

# Rate Limiting (More lenient for testing)
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=200

# Logging (More verbose for debugging)
LOG_LEVEL=debug
LOG_FORMAT=pretty

# Monitoring
HEALTH_CHECK_TOKEN=YOUR_STAGING_HEALTH_CHECK_TOKEN

# ===========================================
# FRONTEND (VERCEL) ENVIRONMENT VARIABLES
# ===========================================

# API Configuration (Staging)
NEXT_PUBLIC_API_URL=https://staging-api.advotecate.com
NEXT_PUBLIC_APP_URL=https://staging-app.advotecate.com

# Supabase Configuration (Frontend - Staging)
NEXT_PUBLIC_SUPABASE_URL=https://staging-api.advotecate.com
NEXT_PUBLIC_SUPABASE_ANON_KEY=YOUR_STAGING_SUPABASE_ANON_KEY

# FluidPay Configuration (Frontend - Test)
NEXT_PUBLIC_FLUIDPAY_PUBLIC_KEY=pk_test_YOUR_PUBLIC_TEST_KEY

# Analytics & Monitoring (Staging/Test)
NEXT_PUBLIC_GA_ID=G-STAGING-ID
NEXT_PUBLIC_SENTRY_DSN=https://staging-sentry-dsn@sentry.io/staging-project

# Feature Flags (Enable all for testing)
NEXT_PUBLIC_ENABLE_DONATIONS=true
NEXT_PUBLIC_ENABLE_CAMPAIGNS=true
NEXT_PUBLIC_ENABLE_ANALYTICS=true
NEXT_PUBLIC_DEBUG_MODE=true

# ===========================================
# DEPLOYMENT SPECIFIC VARIABLES
# ===========================================

# GCP Configuration (Staging)
GCP_PROJECT_ID=your-gcp-project-id-staging
GCP_REGION=us-central1
GKE_CLUSTER_NAME=staging-supabase-cluster

# Vercel Configuration (Staging)
VERCEL_PROJECT_NAME=advotecate-frontend-staging
VERCEL_TEAM=your-team-slug

# Domain Configuration (Staging)
DOMAIN=staging.advotecate.com
API_DOMAIN=staging-api.advotecate.com
APP_DOMAIN=staging-app.advotecate.com
MONITORING_DOMAIN=staging-monitoring.advotecate.com

# SSL/TLS Configuration
SSL_CERT_EMAIL=staging@advotecate.com

# ===========================================
# DEVELOPMENT SETTINGS
# ===========================================

# Enable development features
ENABLE_API_DOCS=true
ENABLE_DEBUG_ROUTES=true
ENABLE_MOCK_PAYMENTS=true

# Test Data
USE_TEST_DATA=true
SEED_DATABASE=true

# Security (Relaxed for staging)
REQUIRE_HTTPS=true
SECURE_COOKIES=true
TRUST_PROXY=true

# ===========================================
# TESTING CONFIGURATION
# ===========================================

# Test Users
TEST_USER_EMAIL=test@advotecate.com
TEST_ADMIN_EMAIL=admin@advotecate.com

# Test Payment Methods
TEST_CARD_NUMBER=4111111111111111
TEST_CARD_EXP=12/25
TEST_CARD_CVV=123

# ===========================================
# NOTES FOR STAGING
# ===========================================

# 1. Use sandbox/test API keys for all external services
# 2. Enable debug logging for troubleshooting
# 3. Use separate databases to avoid affecting production
# 4. Test all payment flows with test cards only
# 5. Monitor staging environment for issues before production deployment
# 6. Use staging for user acceptance testing (UAT)
# 7. Staging should mirror production as closely as possible